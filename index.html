<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>WinCash — شحن منصّات المراهنات</title>
<meta name="theme-color" content="#8A56F0">
<style>
  :root{
    --ink:#E5E7EB; --muted:#9CA3AF; --line:#2a2f3a; --card:#0f1320; --bg:#0b1020;
    --grad1:#f69c5e; --grad2:#dd2a7b; --grad3:#8a56f0; --grad4:#4f6af2;
    --radius:18px; --shadow:0 10px 28px rgba(0,0,0,.35);
  }
  *{box-sizing:border-box} html,body{height:100%}
  body{
    margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Tahoma,Arial,sans-serif;color:var(--ink);
    background:
      radial-gradient(1200px 600px at 10% -200px, rgba(221,42,123,.18), transparent 60%),
      radial-gradient(1200px 600px at 110% -240px, rgba(79,106,242,.18), transparent 60%),
      linear-gradient(180deg,#0b1020,#0a0f1d 30%, #0b1020);
  }
  a{color:inherit;text-decoration:none}
  .nav{position:sticky;top:0;z-index:50;background:#0c1222cc;backdrop-filter:blur(8px);border-bottom:1px solid #151a25}
  .nav-inner{max-width:980px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;padding:10px 14px}
  .brand{display:flex;align-items:center;gap:10px}
  .logo-dot{width:26px;height:26px;border-radius:8px;background:conic-gradient(from 200deg,var(--grad1),var(--grad2),var(--grad3),var(--grad4),var(--grad1))}
  .brand-name{font-weight:900}
  .brand-name b{background:linear-gradient(90deg,var(--grad1),var(--grad2),var(--grad3),var(--grad4));-webkit-background-clip:text;color:transparent}
  .cta{padding:10px 16px;border:none;border-radius:999px;color:#0b1020;font-weight:800;cursor:pointer;background:linear-gradient(90deg,var(--grad1),var(--grad2),var(--grad3),var(--grad4));box-shadow:0 8px 22px rgba(138,86,240,.25)}
  .wrap{max-width:980px;margin:0 auto;padding:18px 14px 90px}
  .hero{margin:14px 0;background:var(--card);border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden}
  .hero-top{padding:26px;background:linear-gradient(135deg,#0f1320,#0f1424)}
  .title{font-size:22px;line-height:1.35;margin:0 0 8px}
  .subtitle{color:var(--muted);font-size:14px}
  .hero-actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:14px}
  .ghost{background:transparent;border:1px solid var(--line);color:#E5E7EB}
  .badges{display:flex;gap:8px;flex-wrap:wrap;margin-top:14px}
  .badge{font-size:12px;border:1px solid var(--line);border-radius:999px;padding:6px 10px;background:#10162a;color:#cbd5e1}
  .hero-bottom{height:5px;background:linear-gradient(90deg,var(--grad1),var(--grad2),var(--grad3),var(--grad4))}
  .section{margin:22px 0}
  .section h3{margin:0 0 12px;font-size:18px}
  .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
  @media(min-width:480px){.grid{grid-template-columns:repeat(3,1fr)}}
  @media(min-width:760px){.grid{grid-template-columns:repeat(4,1fr)}}
  .card{background:#0f1426;border:1px solid var(--line);border-radius:16px;padding:12px;text-align:center;cursor:pointer;transition:.2s}
  .card:hover{transform:translateY(-2px);box-shadow:0 12px 26px rgba(0,0,0,.35)}
  .icon{width:34px;height:34px;border-radius:12px;display:inline-grid;place-items:center;margin:2px auto 6px}
  .icon span{font-weight:900;font-size:12px;color:#fff}
  .label{margin-top:4px;font-weight:800;font-size:13px}
  .muted{font-size:12px;color:var(--muted)}
  .faq{background:#0f1426;border:1px solid var(--line);border-radius:16px;padding:12px}
  details{border:1px solid var(--line);border-radius:12px;padding:10px;margin:8px 0;background:#10162a}
  summary{cursor:pointer;font-weight:800}
  .footer{margin-top:18px;padding:16px;border-top:1px solid #151a25;color:#9CA3AF;font-size:12px}
  .overlay{position:fixed;inset:0;background:rgba(4,6,12,.6);backdrop-filter:blur(6px);display:none;align-items:center;justify-content:center;z-index:80}
  .overlay.show{display:flex}
  .sheet{width:min(620px,92vw);background:#0f1426;border-radius:18px;border:1px solid var(--line);box-shadow:var(--shadow);overflow:hidden}
  .sheet-head{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;border-bottom:1px solid var(--line)}
  .sheet-body{padding:14px 16px}
  .x{border:none;background:transparent;font-size:22px;cursor:pointer;color:#cbd5e1}
  .field{display:grid;gap:6px;margin:10px 0}
  .field input{width:100%;padding:12px;border:1px solid #2b3342;border-radius:12px;background:#0c1222;color:#e5e7eb}
  .btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:12px 16px;border:none;border-radius:12px;color:#0b1020;font-weight:900;background:linear-gradient(90deg,var(--grad1),var(--grad2),var(--grad3),var(--grad4));cursor:pointer;text-align:center;width:100%;margin-top:10px}
</style>
</head>
<body>
<header class="nav"><div class="nav-inner"><div class="brand"><span class="logo-dot"></span><div class="brand-name">Win<b>Cash</b></div></div><button class="cta" onclick="document.getElementById('platforms').scrollIntoView({behavior:'smooth'})">ابدأ الآن</button></div></header>

<main class="wrap">
  <section class="hero"><div class="hero-top"><h1 class="title">شحن منصّاتك بسرعة وأمان — تصميم حديث يُوحي بالثقة</h1><p class="subtitle">اختر منصّتك، أدخل الـ ID، ادفع محليًا، ويتم التنفيذ خلال دقائق مع متابعة فورية.</p></div></section>
  <section id="platforms" class="section"><h3>اختيار المنصّة</h3><div id="platformGrid" class="grid"></div></section>
  <footer class="footer">©️ 2025 — WinCash</footer>
</main>

<!-- Modal الدفع -->
<div class="overlay" id="payOverlay">
  <div class="sheet">
    <div class="sheet-head"><strong>إعادة تعبئة الحساب</strong><button class="x" onclick="closePay()">×</button></div>
    <div class="sheet-body">
      <form id="transferForm">
        <input type="hidden" id="platformInput" name="platform">
        <div class="field"><label>معرّف الحساب</label><input type="text" id="userId" name="userId" required></div>
        <div class="field"><label>المبلغ</label><input type="number" id="amount" name="amount" required></div>
        <div class="field"><label>الإسم الكامل</label><input type="text" id="fullname" name="fullname" required></div>
        <div class="field"><label>صورة التحويل</label><input type="file" id="proof" required></div>
        <img id="preview" style="display:none;max-width:100%;margin-top:10px;border-radius:8px;">
        <button id="submitBtn" class="btn" type="submit">تأكيد</button>
      </form>
    </div>
  </div>
</div>

<script>
/* منصات */
const platforms = [
  {key:'22bet',name:'22Bet',tag:'22',grad:['#4f6af2','#8a56f0']},
  {key:'melbet',name:'Melbet',tag:'MB',grad:['#dd2a7b','#8a56f0']},
  {key:'linebet',name:'Linebet',tag:'LB',grad:['#f69c5e','#dd2a7b']},
  {key:'1xbet',name:'1xBet',tag:'1X',grad:['#4f6af2','#58a6ff']}
];
const grid=document.getElementById('platformGrid');
function badgeIcon(p){const[c1,c2]=p.grad;return`<div class="icon" style="background:linear-gradient(120deg,${c1},${c2})"><span>${p.tag}</span></div>`;}
platforms.forEach(p=>{
  const card=document.createElement('button');
  card.className='card';
  card.innerHTML=`${badgeIcon(p)}<div class="label">${p.name}</div>`;
  card.onclick=()=>openModal(p.name,p.key);
  grid.appendChild(card);
});
const modal=document.getElementById('modal');
function openModal(n,k){document.getElementById('platformInput').value=k;payOverlay.classList.add('show');}
function closePay(){document.getElementById('payOverlay').classList.remove('show');}

/* preview image */
document.getElementById("proof").addEventListener("change", function(e) {
  const file = e.target.files[0];
  const preview = document.getElementById("preview");
  if (file && file.type.startsWith("image/")) {
    const reader = new FileReader();
    reader.onload = ev => { preview.src = ev.target.result; preview.style.display = "block"; };
    reader.readAsDataURL(file);
  } else { preview.src = ""; preview.style.display = "none"; }
});

/* ارسال */
function getSecureURL(){
  return "https://script.google.com/macros/s/AKfycbz3zaYEJyI-Siw2kShrBbz5FJczf1Zl0t-iVV0RhanSz7WQWA7JGiloBosIt-j9wesa/exec";
}
document.getElementById("transferForm").addEventListener("submit", async function(e){
  e.preventDefault();
  const platform = document.getElementById("platformInput").value;
  const userId = document.getElementById("userId").value.trim();
  const amount = document.getElementById("amount").value.trim();
  const fullname = document.getElementById("fullname").value.trim();
  const file = document.getElementById("proof").files[0];
  const submitBtn=document.getElementById("submitBtn");
  if(!file||!fullname||!amount||!userId){alert("املأ جميع الحقول");return;}
  submitBtn.disabled=true; submitBtn.innerText="جاري الإرسال...";
  try{
    const reader=new FileReader();
    reader.onloadend=async function(){
      const imageBase64=reader.result;
      const now=new Date();
      const date=now.toLocaleDateString("ar-MA");
      const time=now.toLocaleTimeString("ar-MA");
      const response=await fetch(getSecureURL(),{
        method:"POST",
        headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},
        body:new URLSearchParams({platform,userId,amount,fullname,imageBase64,date,time})
      });
      if(response.ok){alert("✅ تم استلام التحويل!");e.target.reset();document.getElementById("preview").style.display="none";}
      else{alert("❌ خطأ");}
      submitBtn.disabled=false; submitBtn.innerText="تأكيد";
    };
    reader.readAsDataURL(file);
  }catch(err){alert("❌ تعذر الإرسال"); submitBtn.disabled=false; submitBtn.innerText="تأكيد";}
});
</script>
</body>
</html>
